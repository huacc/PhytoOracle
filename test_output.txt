============================= test session starts =============================
platform win32 -- Python 3.12.3, pytest-8.4.2, pluggy-1.6.0 -- C:\Program Files\Python312\python.exe
cachedir: .pytest_cache
rootdir: D:\项目管理\PhytoOracle\backend
configfile: pyproject.toml
plugins: anyio-3.7.1, asyncio-1.2.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 22 items

backend\tests\unit\test_p2_2_vlm_client.py::TestVLMExceptions::test_vlm_exception_basic PASSED [  4%]
backend\tests\unit\test_p2_2_vlm_client.py::TestVLMExceptions::test_provider_unavailable_exception PASSED [  9%]
backend\tests\unit\test_p2_2_vlm_client.py::TestVLMExceptions::test_all_providers_failed_exception PASSED [ 13%]
backend\tests\unit\test_p2_2_vlm_client.py::TestVLMExceptions::test_validation_exception PASSED [ 18%]
backend\tests\unit\test_p2_2_vlm_client.py::TestVLMExceptions::test_timeout_exception PASSED [ 22%]
backend\tests\unit\test_p2_2_vlm_client.py::TestVLMExceptions::test_quota_exceeded_exception PASSED [ 27%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_initialization PASSED [ 31%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_set_and_get PASSED [ 36%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_miss PASSED [ 40%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_key_uniqueness PASSED [ 45%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_ttl_expiration PASSED [ 50%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_clear PASSED [ 54%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_remove_expired PASSED [ 59%]
backend\tests\unit\test_p2_2_vlm_client.py::TestCacheManager::test_cache_stats PASSED [ 63%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_initialization_without_api_keys PASSED [ 68%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_initialization_with_fake_api_keys SKIPPED [ 72%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_custom_provider_order SKIPPED [ 77%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_cache_enabled SKIPPED [ 81%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_cache_disabled SKIPPED [ 86%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_get_available_providers SKIPPED [ 90%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_query_structured_real_api SKIPPED [ 95%]
backend\tests\unit\test_p2_2_vlm_client.py::TestMultiProviderVLMClient::test_client_cache_functionality SKIPPED [100%]

======================== 15 passed, 7 skipped in 4.44s ========================

# PhytoOracle API åè®®å®Œå¤‡æ€§è¯„ä¼°æŠ¥å‘Š

**è¯„ä¼°æ—¥æœŸ**: 2025-11-16
**è¯„ä¼°èŒƒå›´**: docs/api ç›®å½•ä¸­çš„APIåè®®æ–‡æ¡£
**è¯„ä¼°ç›®çš„**: ç¡®å®šAPIåè®®æ˜¯å¦å®Œå¤‡ï¼Œèƒ½å¦æ”¯æŒå‰åç«¯è”è°ƒ

---

## ğŸ“Š è¯„ä¼°æ¦‚è§ˆ

| è¯„ä¼°é¡¹ | æ•°é‡ | è¦†ç›–ç‡ |
|--------|------|--------|
| **å‰ç«¯éœ€è¦çš„APIæ¥å£** | 20ä¸ª | - |
| **æ–‡æ¡£å·²å®šä¹‰çš„APIæ¥å£** | 5ä¸ª | 25% |
| **æ–‡æ¡£ç¼ºå¤±çš„APIæ¥å£** | 15ä¸ª | 75% |
| **å®Œå¤‡æ€§è¯„åˆ†** | **25/100** | âš ï¸ **ä¸å®Œå¤‡** |

**ç»“è®º**: ğŸ”´ **å½“å‰APIåè®®æ–‡æ¡£ä¸å®Œå¤‡ï¼Œæš‚ä¸æ”¯æŒå…¨é¢çš„å‰åç«¯è”è°ƒ**

---

## âœ… å·²å®šä¹‰çš„APIæ¥å£ (5ä¸ª)

### 1. è¯Šæ–­æ¨¡å— (2ä¸ª)

| æ¥å£è·¯å¾„ | æ–¹æ³• | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| `/api/v1/diagnose` | POST | âœ… å®Œæ•´ | å•å›¾è¯Šæ–­æ¥å£ |
| `/api/v1/diseases` | GET | âœ… å®Œæ•´ | ç–¾ç—…åˆ—è¡¨æŸ¥è¯¢æ¥å£ |

### 2. ç®¡ç†æ¨¡å— (2ä¸ª)

| æ¥å£è·¯å¾„ | æ–¹æ³• | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| `/api/v1/admin/reload` | POST | âœ… å®Œæ•´ | çŸ¥è¯†åº“é‡è½½æ¥å£ |
| `/api/v1/auth/login` | POST | âœ… å®Œæ•´ | ç®¡ç†å‘˜ç™»å½•æ¥å£ |

### 3. å†å²æŸ¥è¯¢æ¨¡å— (1ä¸ª)

| æ¥å£è·¯å¾„ | æ–¹æ³• | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|------|
| `/api/v1/history` | GET | âœ… å®Œæ•´ | è¯Šæ–­å†å²æŸ¥è¯¢æ¥å£ |

---

## âŒ ç¼ºå¤±çš„APIæ¥å£ (15ä¸ª)

### 1. è¯Šæ–­æ¨¡å— (6ä¸ª)

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | ä¼˜å…ˆçº§ | å‰ç«¯è°ƒç”¨ä½ç½® | è¯´æ˜ |
|-----|---------|------|--------|-------------|------|
| 1 | `/api/v1/diagnose/batch` | POST | ğŸ”´ **P0** | `diagnosis-api.ts:60` | **æ‰¹é‡è¯Šæ–­æ¥å£** - æ‰¹é‡è¯Šæ–­ç•Œé¢æ ¸å¿ƒåŠŸèƒ½ |
| 2 | `/api/v1/diagnosis/result/{diagnosisId}` | GET | ğŸŸ¡ P1 | `diagnosis-api.ts:69` | è·å–è¯Šæ–­ç»“æœè¯¦æƒ… |
| 3 | `/api/v1/diseases/{diseaseId}` | GET | ğŸŸ¡ P1 | `diagnosis-api.ts:94` | è·å–å•ä¸ªç–¾ç—…è¯¦æƒ… |
| 4 | `/api/v1/diagnosis/{diagnosisId}/feedback` | POST | ğŸŸ¢ P2 | `diagnosis-api.ts:120` | æäº¤ç”¨æˆ·åé¦ˆï¼ˆcorrect/incorrectï¼‰ |
| 5 | `/api/v1/diagnosis/export` | GET | ğŸŸ¢ P2 | `diagnosis-api.ts:131` | å¯¼å‡ºè¯Šæ–­ç»“æœä¸ºExcel |
| 6 | `/api/v1/diagnosis/batch/progress/{batchId}` | GET | ğŸŸ¡ P1 | å‰ç«¯æœªå®ç° | æŸ¥è¯¢æ‰¹é‡è¯Šæ–­è¿›åº¦ï¼ˆWebSocketæˆ–è½®è¯¢ï¼‰ |

**å½±å“è¯„ä¼°**:
- ğŸ”´ **P0çº§ç¼ºå¤±**: æ‰¹é‡è¯Šæ–­åŠŸèƒ½å®Œå…¨æ— æ³•ä½¿ç”¨
- ğŸŸ¡ **P1çº§ç¼ºå¤±**: è¯Šæ–­ç»“æœè¯¦æƒ…å±•ç¤ºä¸å®Œæ•´
- ğŸŸ¢ **P2çº§ç¼ºå¤±**: å¢å¼ºåŠŸèƒ½å—å½±å“ï¼ˆåé¦ˆã€å¯¼å‡ºï¼‰

---

### 2. çŸ¥è¯†åº“ç®¡ç†æ¨¡å— (8ä¸ª)

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | ä¼˜å…ˆçº§ | å‰ç«¯è°ƒç”¨ä½ç½® | è¯´æ˜ |
|-----|---------|------|--------|-------------|------|
| 1 | `/api/v1/knowledge/tree` | GET | ğŸ”´ **P0** | `knowledge-api.ts:29` | **è·å–çŸ¥è¯†åº“ç›®å½•æ ‘** - çŸ¥è¯†ç®¡ç†ç•Œé¢æ ¸å¿ƒ |
| 2 | `/api/v1/knowledge/disease/{diseaseId}` | GET | ğŸ”´ **P0** | `knowledge-api.ts:38` | **è·å–ç–¾ç—…çŸ¥è¯†è¯¦æƒ…** - çŸ¥è¯†ç¼–è¾‘æ ¸å¿ƒ |
| 3 | `/api/v1/knowledge/disease/{diseaseId}` | POST | ğŸ”´ **P0** | `knowledge-api.ts:51` | **ä¿å­˜ç–¾ç—…çŸ¥è¯†ä¿®æ”¹** - çŸ¥è¯†ç¼–è¾‘æ ¸å¿ƒ |
| 4 | `/api/v1/knowledge/validate` | POST | ğŸŸ¡ P1 | `knowledge-api.ts:65` | éªŒè¯ç–¾ç—…çŸ¥è¯†æ•°æ® |
| 5 | `/api/v1/knowledge/snapshot` | POST | ğŸŸ¢ P2 | `knowledge-api.ts:78` | åˆ›å»ºçŸ¥è¯†åº“å¿«ç…§ |
| 6 | `/api/v1/knowledge/snapshots` | GET | ğŸŸ¢ P2 | `knowledge-api.ts:89` | è·å–å¿«ç…§å†å²åˆ—è¡¨ |
| 7 | `/api/v1/knowledge/restore/{snapshotId}` | POST | ğŸŸ¢ P2 | `knowledge-api.ts:98` | æ¢å¤å†å²å¿«ç…§ |
| 8 | `/api/v1/knowledge/test-diagnosis` | POST | ğŸŸ¡ P1 | `knowledge-api.ts:114` | æµ‹è¯•è¯Šæ–­ï¼ˆä½¿ç”¨æ–°çŸ¥è¯†ï¼‰ |

**å½±å“è¯„ä¼°**:
- ğŸ”´ **P0çº§ç¼ºå¤±**: çŸ¥è¯†ç®¡ç†ç•Œé¢ï¼ˆ/knowledgeï¼‰å®Œå…¨æ— æ³•ä½¿ç”¨
- æ•´ä¸ªçŸ¥è¯†åº“å¢åˆ æ”¹æŸ¥åŠŸèƒ½ä¸å¯ç”¨

---

### 3. æœ¬ä½“ç®¡ç†æ¨¡å— (4ä¸ª)

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | ä¼˜å…ˆçº§ | å‰ç«¯è°ƒç”¨ä½ç½® | è¯´æ˜ |
|-----|---------|------|--------|-------------|------|
| 1 | `/api/v1/ontology/features` | GET | ğŸ”´ **P0** | `knowledge-api.ts:170` | **è·å–ç‰¹å¾æœ¬ä½“** - æœ¬ä½“ç®¡ç†ç•Œé¢æ ¸å¿ƒ |
| 2 | `/api/v1/ontology/disease` | GET | ğŸŸ¡ P1 | `knowledge-api.ts:204` | è·å–ç–¾ç—…Schema |
| 3 | `/api/v1/ontology/host` | GET | ğŸŸ¡ P1 | `knowledge-api.ts:263` | è·å–å®¿ä¸»Schema |
| 4 | `/api/v1/ontology/treatment` | GET | ğŸŸ¢ P2 | `knowledge-api.ts:306` | è·å–æ²»ç–—Schema |

**å½±å“è¯„ä¼°**:
- ğŸ”´ **P0çº§ç¼ºå¤±**: æœ¬ä½“ç®¡ç†ç•Œé¢ï¼ˆ/ontologyï¼‰éƒ¨åˆ†åŠŸèƒ½ä¸å¯ç”¨
- ç‰¹å¾æœ¬ä½“å±•ç¤ºå’Œç®¡ç†åŠŸèƒ½å—é˜»

---

### 4. è®¤è¯æ¨¡å— (1ä¸ª)

| åºå· | æ¥å£è·¯å¾„ | æ–¹æ³• | ä¼˜å…ˆçº§ | å‰ç«¯è°ƒç”¨ä½ç½® | è¯´æ˜ |
|-----|---------|------|--------|-------------|------|
| 1 | `/api/v1/auth/logout` | POST | ğŸŸ¢ P2 | `knowledge-api.ts:379` | ç®¡ç†å‘˜ç™»å‡º |

**å½±å“è¯„ä¼°**:
- ğŸŸ¢ **P2çº§ç¼ºå¤±**: ç™»å‡ºåŠŸèƒ½ç¼ºå¤±ï¼ˆå¯å‰ç«¯å¤„ç†ï¼‰

---

## ğŸ” è¯¦ç»†å¯¹æ¯”åˆ†æ

### 1. å‰ç«¯APIå®¢æˆ·ç«¯è°ƒç”¨æ¸…å•

#### diagnosis-api.ts (8ä¸ªæ–¹æ³•)

```typescript
// âœ… å·²å®šä¹‰
diagnoseSingle()          â†’ POST /api/v1/diagnose
getDiseases()             â†’ GET /api/v1/diseases
getDiagnosisHistory()     â†’ GET /api/v1/history

// âŒ æœªå®šä¹‰
diagnoseBatch()           â†’ POST /diagnose/batch           [P0 - æ‰¹é‡è¯Šæ–­]
getDiagnosisResult()      â†’ GET /diagnosis/result/{id}     [P1 - ç»“æœè¯¦æƒ…]
getDiseaseDetail()        â†’ GET /diseases/{diseaseId}      [P1 - ç–¾ç—…è¯¦æƒ…]
submitFeedback()          â†’ POST /diagnosis/{id}/feedback  [P2 - ç”¨æˆ·åé¦ˆ]
exportToExcel()           â†’ GET /diagnosis/export          [P2 - å¯¼å‡ºExcel]
```

#### knowledge-api.ts (12ä¸ªæ–¹æ³•)

```typescript
// âœ… å·²å®šä¹‰
adminApi.reloadKnowledgeBase() â†’ POST /api/v1/admin/reload
adminApi.login()               â†’ POST /api/v1/auth/login

// âŒ æœªå®šä¹‰
getKnowledgeTree()        â†’ GET /knowledge/tree             [P0 - çŸ¥è¯†æ ‘]
getDiseaseKnowledge()     â†’ GET /knowledge/disease/{id}    [P0 - ç–¾ç—…çŸ¥è¯†]
saveDiseaseKnowledge()    â†’ POST /knowledge/disease/{id}   [P0 - ä¿å­˜çŸ¥è¯†]
validateKnowledge()       â†’ POST /knowledge/validate       [P1 - éªŒè¯]
createSnapshot()          â†’ POST /knowledge/snapshot       [P2 - åˆ›å»ºå¿«ç…§]
getSnapshots()            â†’ GET /knowledge/snapshots       [P2 - å¿«ç…§åˆ—è¡¨]
restoreSnapshot()         â†’ POST /knowledge/restore/{id}   [P2 - æ¢å¤å¿«ç…§]
testDiagnosis()           â†’ POST /knowledge/test-diagnosis [P1 - æµ‹è¯•è¯Šæ–­]
getFeatureOntology()      â†’ GET /ontology/features         [P0 - ç‰¹å¾æœ¬ä½“]
adminApi.logout()         â†’ POST /auth/logout              [P2 - ç™»å‡º]
```

---

## ğŸ“ APIåè®®æ–‡æ¡£è´¨é‡è¯„ä¼°

### ä¼˜ç‚¹ âœ…

1. **OpenAPIè§„èŒƒå®Œæ•´**:
   - ä½¿ç”¨æ ‡å‡†çš„OpenAPI 3.0æ ¼å¼
   - Schemaå®šä¹‰æ¸…æ™°ï¼ˆDiagnosisResponse, FeatureVectorç­‰ï¼‰
   - é”™è¯¯å“åº”æ ¼å¼ç»Ÿä¸€

2. **å·²å®šä¹‰æ¥å£æ–‡æ¡£è´¨é‡é«˜**:
   - è¯·æ±‚å‚æ•°è¯¦ç»†ï¼ˆç±»å‹ã€å¿…å¡«æ€§ã€æšä¸¾å€¼ï¼‰
   - å“åº”ç¤ºä¾‹å®Œæ•´ï¼ˆæˆåŠŸã€å¤±è´¥åœºæ™¯ï¼‰
   - åŒ…å«cURLã€Pythonã€JavaScriptä½¿ç”¨ç¤ºä¾‹
   - é”™è¯¯ç è¯´æ˜æ¸…æ™°

3. **æœ€ä½³å®è·µæŒ‡å—å®Œå–„**:
   - å›¾ç‰‡è´¨é‡è¦æ±‚æ˜ç¡®
   - æä¾›äº†é‡è¯•ç­–ç•¥ç¤ºä¾‹ä»£ç 
   - è¯Šæ–­ç»“æœå¤„ç†é€»è¾‘æ¸…æ™°

### ä¸è¶³ âŒ

1. **æ¥å£è¦†ç›–ç‡ä¸¥é‡ä¸è¶³**:
   - ä»…è¦†ç›–25%çš„å‰ç«¯éœ€æ±‚
   - ç¼ºå¤±75%çš„æ ¸å¿ƒåŠŸèƒ½API

2. **ç¼ºå¤±P0çº§å…³é”®æ¥å£**:
   - æ‰¹é‡è¯Šæ–­æ¥å£ - æ‰¹é‡è¯Šæ–­ç•Œé¢å®Œå…¨æ— æ³•è¿è¡Œ
   - çŸ¥è¯†åº“ç®¡ç†æ¥å£ - çŸ¥è¯†ç®¡ç†ç•Œé¢å®Œå…¨æ— æ³•è¿è¡Œ
   - æœ¬ä½“ç®¡ç†æ¥å£ - æœ¬ä½“ç®¡ç†ç•Œé¢éƒ¨åˆ†åŠŸèƒ½ä¸å¯ç”¨

3. **ç¼ºå¤±P1çº§é‡è¦æ¥å£**:
   - è¯Šæ–­ç»“æœè¯¦æƒ…æ¥å£
   - ç–¾ç—…è¯¦æƒ…æ¥å£
   - SchemaæŸ¥è¯¢æ¥å£

4. **æ–‡æ¡£ä¸å®ç°è„±èŠ‚**:
   - å‰ç«¯ä»£ç å·²ç»è°ƒç”¨äº†å¤§é‡æœªå®šä¹‰çš„API
   - çŸ¥è¯†åº“ç®¡ç†å’Œæœ¬ä½“ç®¡ç†æ¨¡å—å®Œå…¨ç¼ºå¤±æ–‡æ¡£

---

## ğŸ¯ è¡¥å……å»ºè®®

### é˜¶æ®µ1: è¡¥å……P0çº§æ ¸å¿ƒæ¥å£ï¼ˆå¿…é¡»ï¼‰

#### 1.1 æ‰¹é‡è¯Šæ–­æ¥å£

```yaml
POST /api/v1/diagnose/batch
Content-Type: multipart/form-data

è¯·æ±‚å‚æ•°:
- images: File[] (å¿…å¡«) - å›¾ç‰‡æ–‡ä»¶æ•°ç»„ (æœ€å¤š20å¼ )
- flower_genus: String (å¯é€‰) - èŠ±å‰ç§å±

å“åº”ç¤ºä¾‹:
{
  "batch_id": "batch_20250116_001",
  "timestamp": "2025-01-16T10:00:00Z",
  "total": 10,
  "completed": 0,
  "status": "processing",
  "results": []
}
```

#### 1.2 çŸ¥è¯†åº“ç›®å½•æ ‘æ¥å£

```yaml
GET /api/v1/knowledge/tree

å“åº”ç¤ºä¾‹:
{
  "tree": {
    "Rosa": {
      "diseases": [
        {
          "disease_id": "rose_black_spot",
          "disease_name": "ç«ç‘°é»‘æ–‘ç—…",
          "last_updated": "2025-01-10T12:00:00Z"
        }
      ]
    }
  },
  "total_diseases": 22,
  "version": "v20250111_143000"
}
```

#### 1.3 ç–¾ç—…çŸ¥è¯†è¯¦æƒ…æ¥å£

```yaml
GET /api/v1/knowledge/disease/{diseaseId}

å“åº”ç¤ºä¾‹:
{
  "disease_id": "rose_black_spot",
  "disease_name": "ç«ç‘°é»‘æ–‘ç—…",
  "pathogen": {...},
  "feature_vector": {...},
  "vlm_descriptions": [...],
  "treatment_recommendations": [...]
}
```

#### 1.4 ä¿å­˜ç–¾ç—…çŸ¥è¯†æ¥å£

```yaml
POST /api/v1/knowledge/disease/{diseaseId}
Content-Type: application/json

è¯·æ±‚ä½“:
{
  "disease_name": "ç«ç‘°é»‘æ–‘ç—…",
  "feature_vector": {...},
  "vlm_descriptions": [...]
}

å“åº”ç¤ºä¾‹:
{
  "success": true,
  "message": "ç–¾ç—…çŸ¥è¯†ä¿å­˜æˆåŠŸ",
  "updated_at": "2025-01-16T10:00:00Z"
}
```

#### 1.5 ç‰¹å¾æœ¬ä½“æ¥å£

```yaml
GET /api/v1/ontology/features

å“åº”ç¤ºä¾‹:
{
  "total": 45,
  "features": [
    {
      "feature_id": "symptom_type",
      "feature_name": "ç—‡çŠ¶ç±»å‹",
      "feature_type": "enum",
      "feature_category": "symptom",
      "allowed_values": ["spot", "wilting", "discoloration"],
      "description": "ç—…ç—‡çš„ä¸»è¦ç±»å‹"
    }
  ],
  "version": "1.0.0"
}
```

---

### é˜¶æ®µ2: è¡¥å……P1çº§é‡è¦æ¥å£ï¼ˆæ¨èï¼‰

#### 2.1 è¯Šæ–­ç»“æœè¯¦æƒ…

```yaml
GET /api/v1/diagnosis/result/{diagnosisId}
```

#### 2.2 å•ä¸ªç–¾ç—…è¯¦æƒ…

```yaml
GET /api/v1/diseases/{diseaseId}
```

#### 2.3 çŸ¥è¯†éªŒè¯

```yaml
POST /api/v1/knowledge/validate
```

#### 2.4 æµ‹è¯•è¯Šæ–­

```yaml
POST /api/v1/knowledge/test-diagnosis
```

#### 2.5 SchemaæŸ¥è¯¢

```yaml
GET /api/v1/ontology/disease
GET /api/v1/ontology/host
```

---

### é˜¶æ®µ3: è¡¥å……P2çº§å¢å¼ºæ¥å£ï¼ˆå¯é€‰ï¼‰

#### 3.1 ç”¨æˆ·åé¦ˆ

```yaml
POST /api/v1/diagnosis/{diagnosisId}/feedback
```

#### 3.2 å¯¼å‡ºåŠŸèƒ½

```yaml
GET /api/v1/diagnosis/export
```

#### 3.3 å¿«ç…§ç®¡ç†

```yaml
POST /api/v1/knowledge/snapshot
GET /api/v1/knowledge/snapshots
POST /api/v1/knowledge/restore/{snapshotId}
```

#### 3.4 ç™»å‡º

```yaml
POST /api/v1/auth/logout
```

---

## ğŸ’¡ å‰åç«¯è”è°ƒå»ºè®®

### å½“å‰å¯è”è°ƒçš„æ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | å¯ç”¨æ€§ | è¯´æ˜ |
|------|------|--------|------|
| å•å›¾è¯Šæ–­ | ä¸Šä¼ å›¾ç‰‡è¯Šæ–­ | âœ… **å¯è”è°ƒ** | APIå®Œæ•´ |
| ç–¾ç—…åˆ—è¡¨æŸ¥è¯¢ | æŸ¥è¯¢æ‰€æœ‰ç–¾ç—… | âœ… **å¯è”è°ƒ** | APIå®Œæ•´ |
| è¯Šæ–­å†å² | æŸ¥è¯¢å†å²è®°å½• | âœ… **å¯è”è°ƒ** | APIå®Œæ•´ï¼ˆéœ€è®¤è¯ï¼‰ |
| ç®¡ç†å‘˜ç™»å½• | åå°ç™»å½• | âœ… **å¯è”è°ƒ** | APIå®Œæ•´ |
| çŸ¥è¯†åº“é‡è½½ | çƒ­åŠ è½½çŸ¥è¯†åº“ | âœ… **å¯è”è°ƒ** | APIå®Œæ•´ï¼ˆéœ€è®¤è¯ï¼‰ |

### å½“å‰æ— æ³•è”è°ƒçš„æ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | å¯ç”¨æ€§ | ç¼ºå¤±æ¥å£æ•° |
|------|------|--------|----------|
| æ‰¹é‡è¯Šæ–­ | æ‰¹é‡ä¸Šä¼ å›¾ç‰‡è¯Šæ–­ | âŒ **æ— æ³•è”è°ƒ** | 2ä¸ª (batch, progress) |
| çŸ¥è¯†ç®¡ç† | å¢åˆ æ”¹æŸ¥ç–¾ç—…çŸ¥è¯† | âŒ **æ— æ³•è”è°ƒ** | 8ä¸ª |
| æœ¬ä½“ç®¡ç† | æŸ¥çœ‹å’Œç®¡ç†æœ¬ä½“ç»“æ„ | âš ï¸ **éƒ¨åˆ†å¯ç”¨** | 4ä¸ª |
| è¯Šæ–­ç»“æœè¯¦æƒ… | æŸ¥çœ‹å•ä¸ªè¯Šæ–­è¯¦æƒ… | âŒ **æ— æ³•è”è°ƒ** | 1ä¸ª |
| ç”¨æˆ·åé¦ˆ | æ ‡æ³¨è¯Šæ–­æ­£ç¡®æ€§ | âŒ **æ— æ³•è”è°ƒ** | 1ä¸ª |
| å¯¼å‡ºåŠŸèƒ½ | å¯¼å‡ºExcelæŠ¥è¡¨ | âŒ **æ— æ³•è”è°ƒ** | 1ä¸ª |

---

## ğŸ“‹ è¡ŒåŠ¨è®¡åˆ’

### ç«‹å³æ‰§è¡Œï¼ˆP0 - é˜»å¡æ€§é—®é¢˜ï¼‰

1. âœ… **è¡¥å……æ‰¹é‡è¯Šæ–­APIåè®®**
   - POST /api/v1/diagnose/batch
   - GET /api/v1/diagnosis/batch/progress/{batchId}

2. âœ… **è¡¥å……çŸ¥è¯†åº“ç®¡ç†APIåè®®**
   - GET /api/v1/knowledge/tree
   - GET /api/v1/knowledge/disease/{diseaseId}
   - POST /api/v1/knowledge/disease/{diseaseId}

3. âœ… **è¡¥å……ç‰¹å¾æœ¬ä½“APIåè®®**
   - GET /api/v1/ontology/features

### è¿‘æœŸå®Œæˆï¼ˆP1 - åŠŸèƒ½å®Œæ•´æ€§ï¼‰

4. âœ… **è¡¥å……è¯¦æƒ…æŸ¥è¯¢APIåè®®**
   - GET /api/v1/diagnosis/result/{diagnosisId}
   - GET /api/v1/diseases/{diseaseId}

5. âœ… **è¡¥å……éªŒè¯å’Œæµ‹è¯•APIåè®®**
   - POST /api/v1/knowledge/validate
   - POST /api/v1/knowledge/test-diagnosis

6. âœ… **è¡¥å……SchemaæŸ¥è¯¢APIåè®®**
   - GET /api/v1/ontology/disease
   - GET /api/v1/ontology/host

### åç»­ä¼˜åŒ–ï¼ˆP2 - å¢å¼ºåŠŸèƒ½ï¼‰

7. âœ… **è¡¥å……ç”¨æˆ·äº¤äº’APIåè®®**
   - POST /api/v1/diagnosis/{diagnosisId}/feedback
   - GET /api/v1/diagnosis/export

8. âœ… **è¡¥å……å¿«ç…§ç®¡ç†APIåè®®**
   - POST /api/v1/knowledge/snapshot
   - GET /api/v1/knowledge/snapshots
   - POST /api/v1/knowledge/restore/{snapshotId}

9. âœ… **è¡¥å……ç™»å‡ºAPIåè®®**
   - POST /api/v1/auth/logout

---

## ğŸ¯ æ€»ç»“

### å½“å‰çŠ¶æ€

- âœ… **å•å›¾è¯Šæ–­åŠŸèƒ½** - å¯ä»¥ç«‹å³å¼€å§‹è”è°ƒ
- âœ… **åŸºç¡€æŸ¥è¯¢åŠŸèƒ½** - ç–¾ç—…åˆ—è¡¨ã€å†å²æŸ¥è¯¢å¯ä»¥è”è°ƒ
- âŒ **æ‰¹é‡è¯Šæ–­åŠŸèƒ½** - æ— æ³•è”è°ƒï¼ˆç¼ºå¤±æ ¸å¿ƒAPIï¼‰
- âŒ **çŸ¥è¯†ç®¡ç†åŠŸèƒ½** - æ— æ³•è”è°ƒï¼ˆç¼ºå¤±å…¨éƒ¨APIï¼‰
- âš ï¸ **æœ¬ä½“ç®¡ç†åŠŸèƒ½** - éƒ¨åˆ†å¯ç”¨ï¼ˆç¼ºå¤±å…³é”®APIï¼‰

### å»ºè®®

1. **çŸ­æœŸæ–¹æ¡ˆ**:
   - å‰ç«¯å…ˆä½¿ç”¨mockæ•°æ®å¼€å‘æ‰¹é‡è¯Šæ–­ã€çŸ¥è¯†ç®¡ç†ç•Œé¢
   - åç«¯ä¼˜å…ˆå®ç°P0çº§APIï¼ˆæ‰¹é‡è¯Šæ–­ã€çŸ¥è¯†åº“ç®¡ç†ã€ç‰¹å¾æœ¬ä½“ï¼‰
   - è¡¥å……å®Œæ•´çš„APIåè®®æ–‡æ¡£

2. **ä¸­æœŸæ–¹æ¡ˆ**:
   - è¡¥å……P1çº§APIåè®®å’Œå®ç°
   - å¼€å§‹å…¨é¢çš„å‰åç«¯è”è°ƒ
   - å»ºç«‹APIåè®®è¯„å®¡æµç¨‹

3. **é•¿æœŸæ–¹æ¡ˆ**:
   - å»ºç«‹APIåè®®ä¸å‰ç«¯ä»£ç åŒæ­¥æ›´æ–°æœºåˆ¶
   - ä½¿ç”¨OpenAPIç”Ÿæˆå·¥å…·è‡ªåŠ¨ç”ŸæˆTypeScriptç±»å‹
   - å»ºç«‹APIç‰ˆæœ¬ç®¡ç†ç­–ç•¥

### å¯å¦è¿›è¡Œè”è°ƒï¼Ÿ

**å›ç­”**: ğŸŸ¡ **å¯ä»¥éƒ¨åˆ†è”è°ƒï¼Œä½†æ— æ³•å…¨é¢è”è°ƒ**

- âœ… **å¯è”è°ƒæ¨¡å—**: å•å›¾è¯Šæ–­ã€ç–¾ç—…æŸ¥è¯¢ã€å†å²æŸ¥è¯¢ã€ç®¡ç†å‘˜ç™»å½• (25%)
- âŒ **æ— æ³•è”è°ƒæ¨¡å—**: æ‰¹é‡è¯Šæ–­ã€çŸ¥è¯†ç®¡ç†ã€æœ¬ä½“ç®¡ç†æ ¸å¿ƒåŠŸèƒ½ (75%)

**å»ºè®®**:
1. **ç«‹å³å¼€å§‹**: å•å›¾è¯Šæ–­åŠŸèƒ½çš„å‰åç«¯è”è°ƒæµ‹è¯•
2. **åŒæ­¥è¿›è¡Œ**: åç«¯è¡¥å……ç¼ºå¤±çš„15ä¸ªAPIå®ç°ï¼Œå‰ç«¯ä½¿ç”¨mockæ•°æ®ç»§ç»­å¼€å‘
3. **å®Œæˆå**: è¿›è¡Œå…¨é¢çš„å‰åç«¯è”è°ƒæµ‹è¯•

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-11-16
**è¯„ä¼°äºº**: Claude Code AI Agent
**ä¸‹ä¸€æ­¥**: ç­‰å¾…ç¡®è®¤åè¡¥å……ç¼ºå¤±çš„APIåè®®æ–‡æ¡£

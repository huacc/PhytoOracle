

//--------------------------------做详细计划--------------
基于 D:\项目管理\PhytoOracle\docs\requirements\需求文档.md 和 D:\项目管理\PhytoOracle\docs\design\详细设计文档.md 帮我生成一个PhytoOracle的研发计划, 要求如下：

1、主要是阐述清楚本阶段的任务，不用关心具体实现的问题，这个任务是给你后续实现的时候做记录使用，让你知道后续都需要干哪些活，我也会仔细看一下计划的准确性，如果在写计划之前有不清楚的可以向我提问。

2、计划中尽量拆成多个阶段细粒度的，包含代码目录结构构建、数据库建表、代码开发、单元测试书写、单元测试运行、端到端的测试书写和运行等等，参考最佳实践。另外，比如代码开发涉及到多个阶段，你可以拆成多个，一个是保障AI在写代码和实现任务的时候更加专注。

3、如果涉及到接口协议和数据库的表设计，可以先出接口文档和构建相关表。

4、要有阶段性的检查，不能都等最后才进行检查，而且每个阶段要运行的检查计划和验收目标要明确，比如代码写完了要有架构设计评审，开发完了要有测试用例和端到端的用例运行。每个阶段必须定义一个 Gate（如 G1、G2），只有通过 Gate 才能进入下一阶段，Gate 标准必须可量化、可验证。

5、包括给出每个阶段的目标和产出物要求和验收标准。

6、计划要简洁、逻辑要清晰。

7、如果有需要可以参考 D:\项目管理\PhytoOracle\docs\methodology\方法论v4.0完整文档.md ，因为作为执行的时候粒度肯定比设计要细，所以你的执行计划中一定要把目标、边界说清楚。

8、计划可以分P0 P1 .... pN 及 P0.1 P0.2 ..... p0.N 甚至 P0.0.1 三级也可以，但所有计划必须逻辑谨慎，后期在写代码时明确知道每个阶段边界和上下文依赖及跟哪些模块进行联调联测，以保障逻辑和接口协议的使用正确性。

9、详细设计和需求可能会有遗漏，在计划中要明确提到，当发现遗漏时，必须：
   - 标记为 [待决策]
   - 暂停当前阶段
   - 向我提问
   - 收到回复后更新计划并继续

10、P0 必须产出完整目录蓝图（树状图），包含 backend/ 和 frontend/ 分离结构。

11、后端代码放到 backend/，前端代码放到 frontend/。


有什么不清楚的可以问我，没问题将计划放到 D:\项目管理\PhytoOracle\docs\plan 目录下即可。


//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~后端python计划实施~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
仔细看下下D:\项目管理\PhytoOracle\docs\design\详细设计文档v2.0.md 和D:\项目管理\PhytoOracle\docs\plan\研发计划v2.0.md，并仔细阅读 D:\项目管理\PhytoOracle\docs\plan\研发计划v2.0.md 中的 5. 详细阶段规划 中的 P4: 完整后端API开发   中的 P4阶段Gate（G4） 计划进行执行，要求如下：

1、如果计划中或者设计中有没提到的，可以按照最佳实践落地，阶段性计划执行完要输出阶段性的执行报告 到 docs/reports 目录下，要求报告要包含所属阶段及具体时间到秒。
2、执行计划前一定要深度思考，要从全局出发，能复用的一定要复用，改动的代码一定要考虑清楚上下，不能对已经调试好的业务产生影响。
3、你要完成的工作仅限于本阶段和本阶段相关的工作，不要超出本阶段以外的内容。如果本阶段和下一阶段再衔接时有需要做的，但是在计划和设计中没有体现，也可以进行实现。
4、所有书写的代码，无论是类、还是函数接口，都要用完整的中文注释，核心逻辑必须给出中文注释。
5、如果是已有的目录可以不创建，复用现有即可。
6、如果有验收标准要按照验收标准进行验收，并输出验收结果。
7、涉及到配置文件的，要全局统一进行读取，不能在代码里写死，但是如果设计到VLM的秘钥、token的不能写入到现在配置项，因为要上传github。
8、验收标准严格遵循《详细设计文档.md》第5章 所属阶段的表格中的【验收项】，每项必须逐一对照输出“通过/失败+证据”，如果设计文档有问题或者逻辑不够清晰可以提出相关质疑但是尽量给出最佳实践的解决方案。
9、所有文件操作必须使用 `Path(__file__).resolve().parent.parent` 相对路径，禁止出现 `D:\` 或 `C:\`，报告路径统一为 `docs/reports/P0_执行报告_YYYYMMDD_HHMMSS.md`。
10、所有生成的python代码文件最好在 最下边写一个main函数，主要用于当前文件中所包含的类和函数调用示例。
11、如果设计文档中有不完善或者逻辑不清楚的，可以按照最佳实践进行代码落地，并输出到执行报告中，报告只生成一份不要拆成多份。
12、如果涉及测试用例书写，所有的结果必须是真实数据结果，返回的结果不可以mock，输入数据可以mock。
13、如果实现本阶段涉及到其他模块，可以查看整个项目的代码也可以查看相关阶段实现模块的报告，在 D:\项目管理\PhytoOracle\docs\reports 目录下。


//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~前端react计划实施~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
仔细看下D:\项目管理\PhytoOracle\docs\design\详细设计文档v2.0.md 和D:\项目管理\PhytoOracle\docs\plan\研发计划v2.0.md，并仔细阅读 D:\项目管理\PhytoOracle\docs\plan\研发计划v2.0.md 中的 5. 详细阶段规划 中的 P5: React前端开发 中的 P5阶段Gate（G5）计划进行执行，界面设计可以参考 D:\项目管理\PhytoOracle\docs\prototypes下的html文件 和 D:\项目管理\PhytoOracle\docs\requirements\界面需求文档_v2.md 要求如下：
1、如果计划中或者设计中有没提到的，可以按照最佳实践落地，阶段性计划执行完要输出阶段性的执行报告 到 D:\项目管理\PhytoOracle\docs\reports目录下，要求报告要包含所属阶段及具体时间到秒。
2、执行计划前一定要深度思考，要从全局出发，能复用的一定要复用，改动的代码一定要考虑清楚上下，不能对已经调试好的业务产生影响。
3、你要完成的工作仅限于本阶段和本阶段相关的工作，不要超出本阶段以外的内容。如果本阶段和下一阶段再衔接时有需要做的，但是在计划和设计中没有体现，也可以进行实现。
4、所有书写的代码，无论是组件、还是函数接口，都要用完整的中文注释，核心逻辑必须给出中文注释。
5、如果是已有的目录可以不创建，复用现有即可。
6、如果有验收标准要按照验收标准进行验收，并输出验收结果。
7、涉及到配置文件的，要全局统一进行读取，不能在代码里写死，但是如果设计到VLM的秘钥、token的不能写入到现在配置项，因为要上传github。
8、验收标准严格遵循《详细设计文档.md》第5章 所属阶段的表格中的【验收项】，每项必须逐一对照输出“通过/失败+证据”，如果设计文档有问题或者逻辑不够清晰可以提出相关质疑但是尽量给出最佳实践的解决方案。
9、所有文件操作必须使用 path.resolve(__dirname, '..', '..') 相对路径，禁止出现 D:\ 或 C:\，报告路径统一为 docs/reports/P0_执行报告_YYYYMMDD_HHMMSS.md。
10、所有生成的React组件文件最好在 最下边写一个示例用法，主要用于当前文件中所包含的组件和函数调用示例，并确保组件符合React函数式组件或类组件的最佳实践，使用Hooks进行状态管理。
11、如果设计文档中有不完善或者逻辑不清楚的，可以按照最佳实践进行代码落地，并输出到执行报告中，报告只生成一份不要拆成多份。
12、如果涉及测试用例书写，所有的结果必须是真实数据结果，返回的结果不可以mock，输入数据可以mock。
13、如果实现本阶段涉及到其他模块，可以查看整个项目的代码也可以查看相关阶段实现模块的报告，在 D:\项目管理\PhytoOracle\docs\reports 目录下。
14、涉及到API接口调用的和接口协议联调的，你可以让另外一个角色启动flaskapi 服务配合相关联调。D:\项目管理\PhytoOracle\docs\api 如果API接口协议不完整，可以写到输出报告中，到时候我来补齐。




//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~阶段评审~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

你是一个经验丰富的软件架构师和项目评审专家，现在请你仔细了解当前项目PhytoOracle（这是一个植物研究相关的开源项目，涉及数据处理、图像分析和AI集成）。请仔细阅读以下文档：
- d:\项目管理\PhytoOracle\docs\design\详细设计文档.md（这是项目的详细设计文档，涵盖架构设计、模块划分、接口定义等）。
- d:\项目管理\PhytoOracle\docs\plan\研发计划v1.0.md（这是项目的研发计划文档，包含阶段划分、里程碑、资源分配等）。

基于这些文档，对P1阶段及P1之前的所有阶段所实现的内容进行全面评审。评审重点包括：
1. **代码实现的符合度**：检查已实现的代码是否严格符合设计文档和计划中的要求，包括功能完整性、代码质量（例如可读性、模块化、错误处理）、性能优化和安全性。如果有任何偏差（如功能缺失、代码冗余或不一致），请明确指出，并建议修正方法。
2. **设计文档的合理性**：评估设计文档是否逻辑清晰、完整（如是否覆盖了所有用例、边界条件和扩展点），并检查文档与实际代码/计划的匹配度。如果文档有模糊、遗漏或过时之处，请指出来，并说明潜在风险。
3. **研发计划的执行情况**：验证P1及之前阶段的计划是否按需、按质完成，包括里程碑达成、资源利用和风险管理。如果计划有偏差（如延期、范围变更或未预见问题），请分析原因并提出改进建议。
4. **整体架构的合理性**：有效评估当前架构（包括数据流、组件交互和可扩展性）的合理性，检查是否符合最佳实践（如SOLID原则、模块化设计）。
5. **对未来的支持**：思考当前实现对未来阶段（P2及以后）的支撑作用是否合理，例如是否预留了接口扩展、是否考虑了可维护性和 scalability（如数据增长、AI模型集成）。如果不支持未来需求，请指出具体问题，并建议如何优化以确保长期可持续性。
6.评审要符合MVP的场景，不能过度设计，当前主要是满足MVP下后续设计和开发。评审后输出中文评审报告到 D:\项目管理\PhytoOracle\docs\reports

请以结构化的格式输出你的评审报告：先总结整体评估得分（满分10分），然后分节详细说明每个重点的分析、偏差指出和建议。确保你的思考逻辑清晰、基于事实，避免主观臆断。如果需要假设某些文档细节，请注明。


//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~产品界面功能设计~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
d:\项目管理\PhytoOracle\docs\requirements\界面需求文档.md 基于这个需求帮我做一个 功能界面的设计，你可以了解下整体的需求和设计 
d:\项目管理\PhytoOracle\docs\requirements\需求文档.md  d:\项目管理\PhytoOracle\docs\design\详细设计文档.md ，要求针对MVP版本进行相关的界面设计，主要站在如何看VLM 
研判的结果，问答的过程以及本体模型和知识构建的准确度上去进行MVP界面功能的设计。不要发散，如果 d:\项目管理\PhytoOracle\docs\requirements\需求文档.md 
需求超出了功能范围，也可以进行修改，你要深刻的理解MVP相关需求，如果有不清楚的需求可以向我提问， 'd:/项目管理/PhytoOracle/docs/ui_frameworks'  输出到这个目录下 
要求可以清晰的在markdown结构下说出关键界面的关键功能设计，然后针对关键的使用流程说清楚使用流程图。
具体要求如下：
1、要能更友好的体现出本体和知识的展示，尤其对本体和多种花的疾病进行展示，要参考业内的最佳实践进行展示。
2、在推理花的结果上要尽量可以看到推理的逻辑和所用的本体，界面友好度高，可以进行各种修改。
3、如果界面需求文档.md 需求说的不对可以进行修改，要参考世界顶级的本体、知识管理设计进行设计，但是重点是提取其核心的逻辑设计，不要过度设计，主要是针对MVP的版本进行设计。
4、知识和本体的更新可以从界面进行更新，我也可以用claude在后台对json文件进行更新调试都可以，主要是验证其判断的逻辑。
5、你输出的markdown 文档中要体现出你界面设计的理念，包括有几个界面，界面功能如何构成的要说清楚。
6、你输出的markdown要有关键的使用场景用例，说清楚关键的交互流程和展示内容，逻辑要严谨。

//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~产品经理的能力~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
专业的花卉疾病-知识图谱-本体管理-大模型产品经理，能力如下：
1、擅长使用markdown 梳理产品的功能界面，并针对不同界面进行产品功能描述。
2、擅长构建产品的界面布局，依据需求参考业内最佳实践进行页面功能布局，且能很好的理解功能需求痛点，并结合最佳实践进行关键功能设计。
3、擅长梳理页面内的功能点。
4、擅长基于markdown的内容构建HTML还原原型形态，并能进行很好的界面布局，并构建相应的假数据和操作功能。并能依据需求改动html内容来实现需求。
5、擅长构建关键的用例，并形成专业的文档。
6、有着专业花卉疾病、本体管理、知识管理、问诊流程的资深经验，熟练的使用多模态的大模型解决相关问题。


//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~react研发的能力~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
你是一个Claude的React研发工程师代理，专注于使用React.js构建高效、可维护的应用。你擅长架构设计、性能调优、代码调研和最佳实践落地，确保组件高内聚、低耦合、可复用且易调试。优先使用函数式组件、Hooks（如useState、useEffect、useContext）和TypeScript进行类型安全。你的响应必须逻辑清晰、实用，并提供详细解释。

### 核心能力范围
- **架构设计**：设计React应用的整体结构，包括组件层次、路由管理（使用React Router）、状态管理（Context API、Redux或MobX，根据复杂度选择）、模块化拆分和可扩展性。考虑全局主题、错误处理（如Error Boundaries）和国际化支持。
- **性能调优**：优化渲染（如使用React.memo、useMemo、useCallback避免不必要重渲染）、懒加载（Suspense和lazy）、代码分割、虚拟化列表（react-window）和性能分析（使用React Profiler或Chrome DevTools）。识别瓶颈并提出解决方案。
- **代码调研与分析**：调研React生态（如新Hooks、库集成如Material-UI、Ant Design或Next.js），分析现有代码的潜在问题，提供重构建议。使用工具或知识库评估第三方库的适用性、版本兼容和安全风险。
- **代码生成与优化**：生成React组件、自定义Hooks和工具函数。确保组件纯函数化，支持props验证（PropTypes或TypeScript interfaces）。优化代码以提高可读性和维护性，如拆分复杂组件、复用通用逻辑。
- **注释与文档**：所有组件、函数和接口必须用完整的中文注释。核心逻辑（如状态更新、事件处理、副作用）必须给出详细中文注释。组件文件末尾添加示例用法（export default并展示props示例和Hooks使用）。
- **最佳实践落地**：遵循React官方指南（如react.dev）和风格规范（如Airbnb React/JSX Style Guide）。处理边缘情况（如loading states、error handling）、确保响应式设计（CSS-in-JS如styled-components或Tailwind）。如果输入不完善，按最佳实践补充，并在响应中说明理由。
- **测试与调试**：编写单元测试（使用Jest和React Testing Library）、集成测试和端到端测试（Cypress）。调试常见问题如状态不一致、内存泄漏，提供日志记录和错误追踪建议。测试用真实数据结果（输入可模拟）。
- **集成与扩展**：集成API调用（Axios或Fetch）、数据可视化（Recharts或D3.js集成）、动画（Framer Motion）和PWA支持。调研并推荐工具链如Vite、Webpack或Create React App的自定义配置。
- **安全与合规**：避免常见漏洞（如XSS、CSRF），处理敏感数据（如环境变量process.env），确保代码适合GitHub等公开仓库（不硬编码密钥）。
- **工具使用**：如果需要外部调研（如最新React版本特性），可通过可用工具（如web_search或browse_page）获取信息，但优先依赖内置知识。

### 执行指南
1. 响应前深度思考，从全局视角评估需求，确保复用现有逻辑，避免破坏现有功能。
2. 输出代码时，使用JSX格式，确保可直接复制运行。添加示例：
   ```jsx
   // 示例用法
   import MyComponent from './MyComponent';
   <MyComponent prop1="value" onEvent={() => console.log('handled')} />



//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~画原型的能力~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
站在专业的产品经理角度，依据 d:\项目管理\PhytoOracle\docs\requirements\界面需求文档_v2.md 帮我给每个界面做一个HTML的高保真的还原图，并存到D:\项目管理\PhytoOracle\docs\prototypes 目录下，要求如下：
1、如果需求文档中写的不清晰的，按照最佳实践进行相关界面、功能绘制。
2、要求有完备且合乎逻辑的假数据，所有按钮必须都可以操作，该有弹窗的有弹窗。
3、要求颜色配置合理，可以指导研发进行开发。但是要遵循MVP版本约束，不能过度设计，保障功能可用即可，因为只有我和你（claude）两个家伙干活。没有额外的劳动力可以调配，后边还有其他要研发的内容，要实现，所以一定要控制好工作边界，只要逻辑是完备的就行。
4、只输出HTML的文件即可，不用做过多的阐述。到时我用了有问题会让你改。
如果有问题可以向我提问，如果没问题开始生成原型图。











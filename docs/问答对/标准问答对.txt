

//--------------------------------做详细计划--------------
基于 D:\项目管理\PhytoOracle\docs\requirements\需求文档.md 和 D:\项目管理\PhytoOracle\docs\design\详细设计文档.md 帮我生成一个PhytoOracle的研发计划, 要求如下：

1、主要是阐述清楚本阶段的任务，不用关心具体实现的问题，这个任务是给你后续实现的时候做记录使用，让你知道后续都需要干哪些活，我也会仔细看一下计划的准确性，如果在写计划之前有不清楚的可以向我提问。

2、计划中尽量拆成多个阶段细粒度的，包含代码目录结构构建、数据库建表、代码开发、单元测试书写、单元测试运行、端到端的测试书写和运行等等，参考最佳实践。另外，比如代码开发涉及到多个阶段，你可以拆成多个，一个是保障AI在写代码和实现任务的时候更加专注。

3、如果涉及到接口协议和数据库的表设计，可以先出接口文档和构建相关表。

4、要有阶段性的检查，不能都等最后才进行检查，而且每个阶段要运行的检查计划和验收目标要明确，比如代码写完了要有架构设计评审，开发完了要有测试用例和端到端的用例运行。每个阶段必须定义一个 Gate（如 G1、G2），只有通过 Gate 才能进入下一阶段，Gate 标准必须可量化、可验证。

5、包括给出每个阶段的目标和产出物要求和验收标准。

6、计划要简洁、逻辑要清晰。

7、如果有需要可以参考 D:\项目管理\PhytoOracle\docs\methodology\方法论v4.0完整文档.md ，因为作为执行的时候粒度肯定比设计要细，所以你的执行计划中一定要把目标、边界说清楚。

8、计划可以分P0 P1 .... pN 及 P0.1 P0.2 ..... p0.N 甚至 P0.0.1 三级也可以，但所有计划必须逻辑谨慎，后期在写代码时明确知道每个阶段边界和上下文依赖及跟哪些模块进行联调联测，以保障逻辑和接口协议的使用正确性。

9、详细设计和需求可能会有遗漏，在计划中要明确提到，当发现遗漏时，必须：
   - 标记为 [待决策]
   - 暂停当前阶段
   - 向我提问
   - 收到回复后更新计划并继续

10、P0 必须产出完整目录蓝图（树状图），包含 backend/ 和 frontend/ 分离结构。

11、后端代码放到 backend/，前端代码放到 frontend/。


有什么不清楚的可以问我，没问题将计划放到 D:\项目管理\PhytoOracle\docs\plan 目录下即可。


//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~计划实施~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
了解下D:\项目管理\PhytoOracle\docs\design\详细设计文档.md 和D:\项目管理\PhytoOracle\docs\plan\研发计划v1.0.md，并仔细阅读 D:\项目管理\PhytoOracle\docs\design\研发计划v1.0.md 中的 5. 详细阶段规划 中的 P1: 接口协议与数据库设计 中的P1.4 知识库设计（JSON Schema） 计划 和 P1阶段Gate（G1） 验收计划的进行执行，要求如下：

1、如果计划中或者设计中有没提到的，可以按照最佳实践落地，阶段性计划执行完要输出阶段性的执行报告 到 docs/reports 目录下，要求报告要包含所属阶段及具体时间到秒。
2、执行计划前一定要深度思考，要从全局出发，能复用的一定要复用，改动的代码一定要考虑清楚上下，不能对已经调试好的业务产生影响。
3、你要完成的工作仅限于本阶段和本阶段相关的工作，不要超出本阶段以外的内容。如果本阶段和下一阶段再衔接时有需要做的，但是在计划和设计中没有体现，也可以进行实现。
4、所有书写的代码，无论是类、还是函数接口，都要用完整的中文注释，核心逻辑必须给出中文注释。
5、如果是已有的目录可以不创建，复用现有即可。
6、如果有验收标准要按照验收标准进行验收，并输出验收结果。
7、涉及到配置文件的，要全局统一进行读取，不能在代码里写死，但是如果设计到VLM的秘钥、token的不能写入到现在配置项，因为要上传github。
8、验收标准严格遵循《详细设计文档.md》第5章 所属阶段的表格中的【验收项】，每项必须逐一对照输出“通过/失败+证据”，如果设计文档有问题或者逻辑不够清晰可以提出相关质疑但是尽量给出最佳实践的解决方案。
9、所有文件操作必须使用 `Path(__file__).resolve().parent.parent` 相对路径，禁止出现 `D:\` 或 `C:\`，报告路径统一为 `docs/reports/P0_执行报告_YYYYMMDD_HHMMSS.md`。
10、所有生成的python代码文件最好在 最下边写一个main函数，主要用于当前文件中所包含的类和函数调用示例。



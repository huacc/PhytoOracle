# DigitalSeer å¼€å‘ç¯å¢ƒéƒ¨ç½²æŒ‡å—

## ğŸ¯ æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨ Debian 12 ç³»ç»Ÿä¸Šéƒ¨ç½² DigitalSeer é¡¹ç›®çš„åŸºç¡€è®¾æ–½æœåŠ¡ï¼ŒåŒ…æ‹¬æ•°æ®åº“ã€RDFå­˜å‚¨ã€æœç´¢å¼•æ“å’Œæ¶ˆæ¯é˜Ÿåˆ—ç­‰å¼€å‘ä¾èµ–ã€‚

## ğŸ“¦ éƒ¨ç½²å†…å®¹

æœ¬æ¬¡éƒ¨ç½²å°†å®‰è£…ä»¥ä¸‹åŸºç¡€è®¾æ–½æœåŠ¡ï¼š

| æœåŠ¡ | ç‰ˆæœ¬ | ç«¯å£ | ç”¨é€” |
|------|------|------|------|
| PostgreSQL | 16 | 5432 | å…³ç³»æ•°æ®åº“ |
| Redis | 7+ | 6379 | ç¼“å­˜æ•°æ®åº“ |
| Elasticsearch | 8+ | 9200/9300 | æœç´¢å¼•æ“ |
| Apache Jena Fuseki | 4.10 | 3030 | RDFæ•°æ®åº“ |
| **RDFå¯è§†åŒ–å·¥å…·** | **1.0** | **8080** | **å›¾è°±å¯è§†åŒ–ç•Œé¢** |
| RabbitMQ | 3.12+ | 5672/15672 | æ¶ˆæ¯é˜Ÿåˆ— |

## ğŸ¨ RDFå¯è§†åŒ–æŠ€æœ¯æ–¹æ¡ˆ

é‡‡ç”¨ **YASGUI + Vis.js Network** çš„ç»„åˆæ–¹æ¡ˆï¼Œç¡®ä¿ä¸Jenaçš„å®Œç¾å¯¹æ¥ï¼š

### ğŸ”— æ ¸å¿ƒæŠ€æœ¯ç»„ä»¶

| ç»„ä»¶ | ç‰ˆæœ¬ | è®¸å¯è¯ | ä¸Jenaå…³ç³» | ä¼˜åŠ¿ |
|------|------|--------|-----------|------|
| **YASGUI** | 4.2.25+ | MIT | **åŸç”Ÿæ”¯æŒ** | æ ‡å‡†SPARQLç¼–è¾‘å™¨ |
| **Vis.js Network** | 9.1.6+ | MIT | é€šè¿‡ç»“æœé›† | é«˜æ€§èƒ½å›¾å½¢æ¸²æŸ“ |
| **Node.js** | 20.x | MIT | WebæœåŠ¡å™¨ | è½»é‡çº§éƒ¨ç½² |

### âœ¨ æŠ€æœ¯ä¼˜åŠ¿

#### ğŸŸ¢ **YASGUI - JenaåŸç”Ÿæ”¯æŒ**
- **é›¶é…ç½®å¯¹æ¥**: ç›´æ¥è¿æ¥Jena Fuseki SPARQLç«¯ç‚¹
- **æ ‡å‡†åè®®**: éµå¾ªW3C SPARQL 1.1æ ‡å‡†
- **ä¸“ä¸šç¼–è¾‘**: è¯­æ³•é«˜äº®ã€è‡ªåŠ¨è¡¥å…¨ã€é”™è¯¯æç¤º
- **å¤šæ ¼å¼æ”¯æŒ**: JSON/XML/CSV/TSVç»“æœå¯¼å‡º

#### ğŸŸ¢ **Vis.js Network - é«˜æ€§èƒ½å¯è§†åŒ–**
- **Canvasæ¸²æŸ“**: æ”¯æŒ1000+èŠ‚ç‚¹æµç•…æ¸²æŸ“
- **ä¸°å¯Œäº¤äº’**: æ‹–æ‹½ã€ç¼©æ”¾ã€é€‰æ‹©ã€æ‚¬åœæ•ˆæœ
- **æ™ºèƒ½å¸ƒå±€**: åŠ›å¯¼å‘ã€å±‚æ¬¡ã€åœ†å½¢ç­‰å¤šç§ç®—æ³•
- **è‡ªå®šä¹‰æ ·å¼**: èŠ‚ç‚¹å½¢çŠ¶ã€é¢œè‰²ã€å¤§å°å¯è°ƒ

### ğŸ”„ æ•°æ®æµè®¾è®¡

```
ç”¨æˆ·SPARQLæŸ¥è¯¢
       â†“
   YASGUIç¼–è¾‘å™¨
       â†“ (æ ‡å‡†HTTPåè®®)
Jena Fuseki SPARQLç«¯ç‚¹
       â†“ (JSONç»“æœ)
  Vis.jså›¾å½¢æ¸²æŸ“å™¨
       â†“
   äº¤äº’å¼å›¾è°±å±•ç¤º
```

### ğŸ¯ ä½¿ç”¨åœºæ™¯
- **çŸ¥è¯†å›¾è°±æ¢ç´¢**: ç›´è§‚æµè§ˆRDFä¸‰å…ƒç»„ç»“æ„
- **SPARQLå¼€å‘è°ƒè¯•**: å¯è§†åŒ–æŸ¥è¯¢ç»“æœéªŒè¯
- **æœ¬ä½“æ¨¡å‹éªŒè¯**: å¿«é€Ÿæ£€æŸ¥ç±»ã€å±æ€§ã€å®ä¾‹å…³ç³»
- **æ¼”ç¤ºå±•ç¤º**: ä¸“ä¸šçº§çš„çŸ¥è¯†å›¾è°±å±•ç¤ºç•Œé¢

## ğŸ—ï¸ ä¿®æ­£åçš„éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ğŸŒ å¤–éƒ¨è®¿é—® (0.0.0.0ç»‘å®š)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¨ RDFå¯è§†åŒ– â”‚    â”‚   Jena Fuseki â”‚    â”‚   RabbitMQ   â”‚
â”‚    :8080     â”‚    â”‚     :3030     â”‚    â”‚ :5672/:15672 â”‚
â”‚              â”‚    â”‚              â”‚    â”‚              â”‚
â”‚ ä¸“ä¸šå›¾è°±ç•Œé¢  â”‚â—„â”€â”€â”€â”¤  RDFæ•°æ®åº“   â”‚    â”‚   æ¶ˆæ¯é˜Ÿåˆ—   â”‚
â”‚ Neo4jé£æ ¼   â”‚    â”‚  SPARQLç«¯ç‚¹  â”‚    â”‚   ç®¡ç†ç•Œé¢   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸ—„ï¸ æ•°æ®å­˜å‚¨å±‚                          â”‚
â”‚                                                         â”‚
â”‚  PostgreSQL    Redis    Elasticsearch                  â”‚
â”‚    :5432      :6379       :9200/:9300                  â”‚
â”‚                                                         â”‚
â”‚  ğŸ” å…¨éƒ¨é…ç½®å¤–éƒ¨è®¿é—®    ğŸ” CORSå·²å¯ç”¨                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”— å…³é”®æ”¹è¿›

âœ… **ç½‘ç»œè®¿é—®ä¿®æ­£**: æ‰€æœ‰æœåŠ¡ç»‘å®šåˆ° `0.0.0.0`ï¼Œæ”¯æŒå¤–éƒ¨è®¿é—®  
âœ… **RDFå¯è§†åŒ–**: æ–°å¢ä¸“ä¸šå›¾è°±å¯è§†åŒ–ç•Œé¢ (`http://<YOUR_SERVER_IP>:8080`)  
âœ… **CORSæ”¯æŒ**: Elasticsearchå¯ç”¨CORSï¼Œæ”¯æŒWebç•Œé¢è®¿é—®  
âœ… **é˜²ç«å¢™é…ç½®**: è‡ªåŠ¨å¼€æ”¾æ‰€æœ‰å¿…è¦ç«¯å£  
âœ… **å®‰å…¨è®¤è¯**: ä¿æŒå¼ºå¯†ç ä¿æŠ¤ï¼Œå…¼é¡¾è®¿é—®ä¾¿åˆ©æ€§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Debian 12 (æ¨è) æˆ– Ubuntu 22.04+
- **å†…å­˜**: æœ€ä½ 8GBï¼Œæ¨è 16GB
- **ç£ç›˜**: æœ€ä½ 50GB å¯ç”¨ç©ºé—´
- **æƒé™**: sudo æˆ– root è®¿é—®æƒé™

### 2. ä¸€é”®éƒ¨ç½²

```bash
# ä¸‹è½½éƒ¨ç½²è„šæœ¬
cd /home/ChronoFold/deployment

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x install_dependencies.sh

# æ‰§è¡Œéƒ¨ç½²ï¼ˆéœ€è¦rootæƒé™ï¼‰
sudo ./install_dependencies.sh
```

### 3. éªŒè¯å®‰è£…

```bash
# è¿è¡Œè¿æ¥æµ‹è¯•
python3 test_connections.py
```

## ğŸ“‹ è¯¦ç»†æ­¥éª¤

### æ­¥éª¤1: ä¸‹è½½éƒ¨ç½²æ–‡ä»¶

æ‰€æœ‰éƒ¨ç½²æ–‡ä»¶å·²æ”¾ç½®åœ¨ `/home/ChronoFold/deployment/` ç›®å½•ï¼š

```
deployment/
â”œâ”€â”€ install_dependencies.sh    # ä¸»å®‰è£…è„šæœ¬
â”œâ”€â”€ services_config.md         # æœåŠ¡é…ç½®æ‰‹å†Œ
â”œâ”€â”€ README.md                  # æœ¬æ–‡æ¡£
â””â”€â”€ test_connections.py        # è¿æ¥æµ‹è¯•è„šæœ¬ï¼ˆå®‰è£…åç”Ÿæˆï¼‰
```

### æ­¥éª¤2: æ‰§è¡Œå®‰è£…

```bash
cd /home/ChronoFold/deployment
sudo bash install_dependencies.sh
```

å®‰è£…è¿‡ç¨‹åŒ…æ‹¬ï¼š
1. ç³»ç»Ÿæ›´æ–°å’ŒåŸºç¡€è½¯ä»¶åŒ…å®‰è£…
2. Java 17 ç¯å¢ƒå®‰è£…ï¼ˆJenaä¾èµ–ï¼‰
3. PostgreSQL æ•°æ®åº“å®‰è£…å’Œé…ç½®
4. Redis ç¼“å­˜æœåŠ¡å®‰è£…å’Œé…ç½®
5. Elasticsearch æœç´¢å¼•æ“å®‰è£…å’Œé…ç½®
6. Apache Jena Fuseki RDFæœåŠ¡å®‰è£…å’Œé…ç½®
7. RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—å®‰è£…å’Œé…ç½®
8. é˜²ç«å¢™å’Œæ—¥å¿—ç›®å½•é…ç½®

### æ­¥éª¤3: éªŒè¯æœåŠ¡

å®‰è£…å®Œæˆåï¼Œè¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯æ‰€æœ‰æœåŠ¡ï¼š

```bash
python3 /home/ChronoFold/test_connections.py
```

æœŸæœ›è¾“å‡ºï¼š
```
=== DigitalSeer åŸºç¡€æœåŠ¡è¿æ¥æµ‹è¯• ===

æµ‹è¯• PostgreSQL...
âœ“ PostgreSQL è¿æ¥æˆåŠŸ: PostgreSQL 16.x

æµ‹è¯• Redis...
âœ“ Redis è¿æ¥æˆåŠŸ: 7.x.x

æµ‹è¯• Elasticsearch...
âœ“ Elasticsearch è¿æ¥æˆåŠŸ: digitalseer-cluster (green)

æµ‹è¯• Jena Fuseki...
âœ“ Jena Fuseki è¿æ¥æˆåŠŸ: æ•°æ®é›† 'digitalseer' å­˜åœ¨

æµ‹è¯• RabbitMQ...
âœ“ RabbitMQ è¿æ¥æˆåŠŸ

=== æµ‹è¯•ç»“æœæ±‡æ€» ===
âœ“ PostgreSQL: æˆåŠŸ
âœ“ Redis: æˆåŠŸ
âœ“ Elasticsearch: æˆåŠŸ
âœ“ Jena Fuseki: æˆåŠŸ
âœ“ RabbitMQ: æˆåŠŸ

æ€»è®¡: 5/5 ä¸ªæœåŠ¡æµ‹è¯•é€šè¿‡

ğŸ‰ æ‰€æœ‰æœåŠ¡è¿æ¥æ­£å¸¸ï¼å¼€å‘ç¯å¢ƒå‡†å¤‡å°±ç»ªã€‚
```

## ğŸ” æœåŠ¡è®¿é—®ä¿¡æ¯

### æ•°æ®åº“è¿æ¥

**PostgreSQL**:
- è¿æ¥: `postgresql://admin:123456@localhost:5432/digitalseer`
- ç”¨æˆ·: `admin`
- å¯†ç : `123456`

**Redis**:
- è¿æ¥: `redis://:123456@localhost:6379/0`
- å¯†ç : `123456`

### æœç´¢å’Œå­˜å‚¨

**Elasticsearch**:
- åœ°å€: `http://localhost:9200`
- ç”¨æˆ·: `elastic`
- å¯†ç : `123456`

**Jena Fuseki**:
- ç®¡ç†ç•Œé¢: `http://localhost:3030`
- æŸ¥è¯¢ç«¯ç‚¹: `http://localhost:3030/digitalseer/query`
- æ›´æ–°ç«¯ç‚¹: `http://localhost:3030/digitalseer/update`

### æ¶ˆæ¯é˜Ÿåˆ—

**RabbitMQ**:
- AMQP: `amqp://admin:123456@localhost:5672/`
- ç®¡ç†ç•Œé¢: `http://localhost:15672`
- ç”¨æˆ·: `admin`
- å¯†ç : `123456`

## ğŸ”§ æœåŠ¡ç®¡ç†

### æŸ¥çœ‹æœåŠ¡çŠ¶æ€
```bash
sudo systemctl status postgresql
sudo systemctl status redis-server
sudo systemctl status elasticsearch
sudo systemctl status jena-fuseki
sudo systemctl status rabbitmq-server
```

### é‡å¯æœåŠ¡
```bash
sudo systemctl restart postgresql
sudo systemctl restart redis-server
sudo systemctl restart elasticsearch
sudo systemctl restart jena-fuseki
sudo systemctl restart rabbitmq-server
```

### æŸ¥çœ‹æ—¥å¿—
```bash
sudo journalctl -u postgresql -f
sudo journalctl -u redis-server -f
sudo journalctl -u elasticsearch -f
sudo journalctl -u jena-fuseki -f
sudo journalctl -u rabbitmq-server -f
```

## ğŸ å¼€å‘ç¯å¢ƒé…ç½®

### Pythonä¾èµ–åŒ…

åœ¨æ‚¨çš„ FastAPI åº”ç”¨ä¸­ï¼Œéœ€è¦å®‰è£…ä»¥ä¸‹PythonåŒ…ï¼š

```bash
pip install sqlalchemy[postgresql] psycopg2-binary redis elasticsearch rdflib pika celery fastapi uvicorn
```

### ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://admin:123456@localhost:5432/digitalseer

# Redisé…ç½®
REDIS_URL=redis://:123456@localhost:6379/0

# Elasticsearché…ç½®
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USER=elastic
ELASTICSEARCH_PASSWORD=123456

# Jena Fusekié…ç½®
JENA_FUSEKI_URL=http://localhost:3030
JENA_DATASET=digitalseer

# RabbitMQé…ç½®
RABBITMQ_URL=amqp://admin:123456@localhost:5672/
```

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### æœåŠ¡æ— æ³•å¯åŠ¨

1. **æ£€æŸ¥ç³»ç»Ÿèµ„æº**:
   ```bash
   free -h           # æ£€æŸ¥å†…å­˜
   df -h             # æ£€æŸ¥ç£ç›˜ç©ºé—´
   ```

2. **æŸ¥çœ‹å…·ä½“é”™è¯¯**:
   ```bash
   sudo journalctl -u <service-name> --since "10 minutes ago"
   ```

3. **æ£€æŸ¥ç«¯å£å ç”¨**:
   ```bash
   sudo netstat -tlnp | grep <port>
   ```

### è¿æ¥è¢«æ‹’ç»

1. **æ£€æŸ¥é˜²ç«å¢™**:
   ```bash
   sudo ufw status
   sudo iptables -L
   ```

2. **æ£€æŸ¥æœåŠ¡ç»‘å®šåœ°å€**:
   ```bash
   sudo netstat -tlnp | grep <service-port>
   ```

### å†…å­˜ä¸è¶³

1. **Elasticsearch å†…å­˜è°ƒæ•´**:
   ```bash
   sudo nano /etc/elasticsearch/jvm.options.d/heap.options
   # ä¿®æ”¹ä¸ºåˆé€‚çš„å€¼ï¼Œå¦‚ -Xms1g -Xmx1g
   ```

2. **ç³»ç»Ÿäº¤æ¢ç©ºé—´**:
   ```bash
   sudo swapon --show
   # å¦‚éœ€æ·»åŠ äº¤æ¢ç©ºé—´ï¼Œè¯·å‚è€ƒç³»ç»Ÿæ–‡æ¡£
   ```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æœåŠ¡é…ç½®è¯¦ç»†æ‰‹å†Œ](services_config.md)
- [æ¶æ„è®¾è®¡æ–‡æ¡£](../æ¶æ„è®¾è®¡æ–‡æ¡£.md)
- å®˜æ–¹æ–‡æ¡£:
  - [PostgreSQL Documentation](https://www.postgresql.org/docs/)
  - [Redis Documentation](https://redis.io/documentation)
  - [Elasticsearch Documentation](https://www.elastic.co/guide/)
  - [Apache Jena Documentation](https://jena.apache.org/documentation/)
  - [RabbitMQ Documentation](https://www.rabbitmq.com/documentation.html)

## ğŸ¤ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. é¦–å…ˆè¿è¡Œ `python3 test_connections.py` æ£€æŸ¥æœåŠ¡çŠ¶æ€
2. æŸ¥çœ‹ç›¸å…³æœåŠ¡æ—¥å¿—: `sudo journalctl -u <service-name> -f`
3. æ£€æŸ¥ [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥) éƒ¨åˆ†
4. æŸ¥é˜… [æœåŠ¡é…ç½®æ‰‹å†Œ](services_config.md)

---

**æ³¨æ„**: æ­¤éƒ¨ç½²æ–¹æ¡ˆé€‚ç”¨äºå¼€å‘ç¯å¢ƒã€‚ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²éœ€è¦é¢å¤–çš„å®‰å…¨é…ç½®ã€æ€§èƒ½ä¼˜åŒ–å’Œé«˜å¯ç”¨æ€§è®¾ç½®ã€‚

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhytoOracle - Êú¨‰ΩìÁªìÊûÑÁÆ°ÁêÜ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .header {
            background: #fff;
            border-bottom: 1px solid #e8e8e8;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .header h1 {
            font-size: 20px;
            font-weight: 500;
            color: #1890ff;
        }

        .header-info {
            color: #999;
            font-size: 14px;
        }

        .btn {
            padding: 8px 16px;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            background: #fff;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .btn:hover {
            color: #1890ff;
            border-color: #1890ff;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            height: calc(100vh - 65px);
            max-width: 1400px;
            margin: 0 auto;
        }

        .sidebar {
            background: #fff;
            border-right: 1px solid #e8e8e8;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #e8e8e8;
            font-weight: 500;
            color: #333;
        }

        .ontology-list {
            list-style: none;
        }

        .ontology-item {
            padding: 16px 20px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .ontology-item:hover {
            background: #f5f5f5;
        }

        .ontology-item.active {
            background: #e6f7ff;
            border-left-color: #1890ff;
            color: #1890ff;
        }

        .ontology-icon {
            font-size: 18px;
        }

        .ontology-name {
            flex: 1;
        }

        .ontology-badge {
            background: #f0f0f0;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            color: #666;
        }

        .ontology-item.active .ontology-badge {
            background: #1890ff;
            color: #fff;
        }

        .content-area {
            background: #f5f5f5;
            overflow-y: auto;
            padding: 24px;
        }

        .content-card {
            background: #fff;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 24px;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e8e8e8;
        }

        .content-title {
            font-size: 20px;
            font-weight: 500;
            color: #333;
        }

        .readonly-badge {
            background: #f0f0f0;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 12px;
            color: #666;
        }

        .schema-info {
            background: #f9f9f9;
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 24px;
        }

        .info-row {
            display: flex;
            padding: 8px 0;
        }

        .info-label {
            width: 120px;
            color: #8c8c8c;
            font-size: 14px;
        }

        .info-value {
            flex: 1;
            color: #333;
            font-size: 14px;
        }

        .field-section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 500;
            color: #333;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 2px solid #1890ff;
        }

        .field-list {
            display: grid;
            gap: 16px;
        }

        .field-item {
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            padding: 16px;
            transition: all 0.3s;
        }

        .field-item:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .field-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            cursor: pointer;
        }

        .field-name {
            font-weight: 500;
            color: #333;
            font-size: 15px;
        }

        .field-type {
            background: #e6f7ff;
            color: #1890ff;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
        }

        .field-description {
            color: #666;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .field-details {
            display: none;
            padding-top: 12px;
            border-top: 1px solid #f0f0f0;
        }

        .field-item.expanded .field-details {
            display: block;
        }

        .field-item.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .expand-icon {
            transition: transform 0.3s;
            color: #999;
        }

        .enum-values {
            margin-top: 8px;
        }

        .enum-title {
            font-size: 13px;
            color: #8c8c8c;
            margin-bottom: 8px;
        }

        .enum-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .enum-tag {
            background: #f0f0f0;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 13px;
            color: #333;
        }

        .property-row {
            display: flex;
            padding: 6px 0;
            font-size: 13px;
        }

        .property-label {
            width: 100px;
            color: #8c8c8c;
        }

        .property-value {
            flex: 1;
            color: #333;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #999;
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>PhytoOracle - Êú¨‰ΩìÁªìÊûÑÁÆ°ÁêÜ</h1>
        <div style="display: flex; gap: 12px; align-items: center;">
            <span class="header-info">Âè™ËØªÊ®°Âºè</span>
            <button class="btn" onclick="goBack()">ËøîÂõûÈ¶ñÈ°µ</button>
        </div>
    </div>

    <div class="main-layout">
        <!-- Â∑¶‰æßËæπÊ†è -->
        <div class="sidebar">
            <div class="sidebar-header">Êú¨‰ΩìÁ±ªÂûã</div>
            <ul class="ontology-list">
                <li class="ontology-item active" onclick="selectOntology('feature')">
                    <span class="ontology-icon">üéØ</span>
                    <span class="ontology-name">ÁâπÂæÅÊú¨‰Ωì</span>
                    <span class="ontology-badge">8</span>
                </li>
                <li class="ontology-item" onclick="selectOntology('disease')">
                    <span class="ontology-icon">ü¶†</span>
                    <span class="ontology-name">ÁñæÁóÖÊú¨‰Ωì</span>
                    <span class="ontology-badge">6</span>
                </li>
                <li class="ontology-item" onclick="selectOntology('plant')">
                    <span class="ontology-icon">üå∏</span>
                    <span class="ontology-name">ÂÆø‰∏ªÊú¨‰Ωì</span>
                    <span class="ontology-badge">5</span>
                </li>
                <li class="ontology-item" onclick="selectOntology('host_disease')">
                    <span class="ontology-icon">üîó</span>
                    <span class="ontology-name">ÂÆø‰∏ª-ÁñæÁóÖÂÖ≥ËÅî</span>
                    <span class="ontology-badge">4</span>
                </li>
                <li class="ontology-item" onclick="selectOntology('treatment')">
                    <span class="ontology-icon">üíä</span>
                    <span class="ontology-name">Ê≤ªÁñóÊú¨‰Ωì</span>
                    <span class="ontology-badge">3</span>
                </li>
            </ul>
        </div>

        <!-- Âè≥‰æßÂÜÖÂÆπÂå∫ -->
        <div class="content-area" id="contentArea">
            <!-- ÂÜÖÂÆπÂ∞ÜÈÄöËøá JavaScript Âä®ÊÄÅÂä†ËΩΩ -->
        </div>
    </div>

    <script>
        const ontologies = {
            feature: {
                title: 'ÁâπÂæÅÊú¨‰Ωì (Feature Ontology)',
                file: 'feature_ontology.json',
                description: 'ÂÆö‰πâËä±ÂçâÁñæÁóÖÁöÑËßÜËßâÁâπÂæÅÁª¥Â∫¶ÂíåÊûö‰∏æÂÄºÔºåÁî®‰∫éVLMËØÜÂà´ÂíåÂåπÈÖç',
                version: '1.0.0',
                lastModified: '2025-11-10',
                fields: [
                    {
                        name: 'symptom_type',
                        title: 'ÁóáÁä∂Á±ªÂûã',
                        type: 'enum',
                        description: 'ÁóÖÂÆ≥ÁöÑ‰∏ªË¶ÅÁóáÁä∂Ë°®Áé∞ÂΩ¢Âºè',
                        required: true,
                        weight: 50,
                        enums: ['necrosis_spot', 'powdery_mildew', 'rust', 'mosaic', 'wilt', 'rot', 'canker', 'gall']
                    },
                    {
                        name: 'color_center',
                        title: '‰∏≠ÂøÉÈ¢úËâ≤',
                        type: 'enum',
                        description: 'ÁóÖÊñë‰∏≠ÂøÉÂå∫ÂüüÁöÑÈ¢úËâ≤ÁâπÂæÅ',
                        required: false,
                        weight: 10,
                        enums: ['black', 'brown', 'gray', 'white', 'yellow', 'orange', 'red', 'purple']
                    },
                    {
                        name: 'color_border',
                        title: 'ËæπÁºòÈ¢úËâ≤',
                        type: 'enum',
                        description: 'ÁóÖÊñëËæπÁºòÊàñÊôïÂúàÁöÑÈ¢úËâ≤ÁâπÂæÅ',
                        required: false,
                        weight: 30,
                        enums: ['halo_yellow', 'halo_red', 'halo_purple', 'no_halo', 'dark_brown', 'black_border']
                    },
                    {
                        name: 'location',
                        title: 'ÂèëÁóÖ‰ΩçÁΩÆ',
                        type: 'enum',
                        description: 'ÁóÖÂÆ≥Âú®Âô®ÂÆò‰∏äÁöÑÂÖ∑‰Ωì‰ΩçÁΩÆ',
                        required: true,
                        weight: 5,
                        enums: ['lamina', 'leaf_tip', 'leaf_edge', 'leaf_base', 'vein', 'petiole', 'stem', 'flower']
                    },
                    {
                        name: 'size',
                        title: 'ÊñëÁÇπÂ§ßÂ∞è',
                        type: 'enum',
                        description: 'ÁóÖÊñëÁöÑÂ∞∫ÂØ∏Â§ßÂ∞èÂàÜÁ±ª',
                        required: false,
                        weight: 2,
                        enums: ['pinpoint', 'small', 'medium', 'large', 'coalesced']
                    },
                    {
                        name: 'distribution',
                        title: 'ÂàÜÂ∏ÉÊ®°Âºè',
                        type: 'enum',
                        description: 'ÁóÖÊñëÂú®Âô®ÂÆò‰∏äÁöÑÂàÜÂ∏ÉÊ®°Âºè',
                        required: false,
                        weight: 2,
                        enums: ['scattered', 'clustered', 'linear', 'circular', 'marginal', 'uniform']
                    },
                    {
                        name: 'coverage',
                        title: 'Ë¶ÜÁõñÁ®ãÂ∫¶',
                        type: 'enum',
                        description: 'ÁóÖÂÆ≥Ë¶ÜÁõñÂô®ÂÆòÁöÑÈù¢ÁßØÊØî‰æã',
                        required: false,
                        weight: 1,
                        enums: ['sparse', 'moderate', 'dense', 'confluent']
                    },
                    {
                        name: 'edge_clarity',
                        title: 'ËæπÁºòÊ∏ÖÊô∞Â∫¶',
                        type: 'enum',
                        description: 'ÁóÖÊñëËæπÁïåÁöÑÊ∏ÖÊô∞Á®ãÂ∫¶',
                        required: false,
                        weight: 1,
                        enums: ['sharp', 'diffuse', 'irregular', 'concentric']
                    }
                ]
            },
            disease: {
                title: 'ÁñæÁóÖÊú¨‰Ωì (Disease Ontology)',
                file: 'disease_schema.json',
                description: 'ÂÆö‰πâÁñæÁóÖËÆ∞ÂΩïÁöÑÊ†áÂáÜÁªìÊûÑÂíåÂ≠óÊÆµËßÑËåÉ',
                version: '1.0.0',
                lastModified: '2025-11-09',
                fields: [
                    {
                        name: 'disease_id',
                        title: 'ÁñæÁóÖID',
                        type: 'string',
                        description: 'ÁñæÁóÖÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶',
                        required: true,
                        pattern: '^[a-z_]+$'
                    },
                    {
                        name: 'disease_name_cn',
                        title: '‰∏≠ÊñáÂêçÁß∞',
                        type: 'string',
                        description: 'ÁñæÁóÖÁöÑ‰∏≠ÊñáÊ†áÂáÜÂêçÁß∞',
                        required: true
                    },
                    {
                        name: 'disease_name_en',
                        title: 'Ëã±ÊñáÂêçÁß∞',
                        type: 'string',
                        description: 'ÁñæÁóÖÁöÑËã±ÊñáÊ†áÂáÜÂêçÁß∞',
                        required: true
                    },
                    {
                        name: 'pathogen',
                        title: 'ÁóÖÂéü‰Ωì‰ø°ÊÅØ',
                        type: 'object',
                        description: 'Ëá¥ÁóÖÂæÆÁîüÁâ©ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ',
                        required: true,
                        properties: ['type', 'genus', 'species', 'full_name']
                    },
                    {
                        name: 'feature_profile',
                        title: 'ÁâπÂæÅËΩÆÂªì',
                        type: 'object',
                        description: 'ËØ•ÁñæÁóÖÁöÑÁâπÂæÅÂÄºÂíåÊùÉÈáçÈÖçÁΩÆ',
                        required: true,
                        properties: ['primary', 'secondary', 'optional']
                    },
                    {
                        name: 'diagnosis_threshold',
                        title: 'ËØäÊñ≠ÈòàÂÄº',
                        type: 'number',
                        description: 'Á°ÆËÆ§ËØ•ÁñæÁóÖÊâÄÈúÄÁöÑÊúÄ‰ΩéÂåπÈÖçÂàÜÊï∞',
                        required: true,
                        range: [0, 100]
                    }
                ]
            },
            plant: {
                title: 'ÂÆø‰∏ªÊú¨‰Ωì (Plant Host Ontology)',
                file: 'plant_host_schema.json',
                description: 'ÂÆö‰πâËä±ÂçâÂÆø‰∏ªÊ§çÁâ©ÁöÑÂàÜÁ±ªÂíåÂ±ûÊÄßÁªìÊûÑ',
                version: '1.0.0',
                lastModified: '2025-11-08',
                fields: [
                    {
                        name: 'host_id',
                        title: 'ÂÆø‰∏ªID',
                        type: 'string',
                        description: 'Ê§çÁâ©ÂÆø‰∏ªÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶',
                        required: true
                    },
                    {
                        name: 'genus',
                        title: 'Â±ûÂêç',
                        type: 'string',
                        description: 'Ê§çÁâ©ÁöÑÊãâ‰∏ÅÂ±ûÂêç',
                        required: true
                    },
                    {
                        name: 'common_name_cn',
                        title: '‰∏≠Êñá‰øóÂêç',
                        type: 'array',
                        description: 'Â∏∏Áî®ÁöÑ‰∏≠ÊñáÂêçÁß∞ÂàóË°®',
                        required: true
                    },
                    {
                        name: 'family',
                        title: 'ÁßëÂêç',
                        type: 'string',
                        description: 'Ê§çÁâ©ÂàÜÁ±ªÂ≠¶ÁßëÂêç',
                        required: true
                    },
                    {
                        name: 'susceptible_organs',
                        title: 'ÊòìÊÑüÂô®ÂÆò',
                        type: 'array',
                        description: 'ÂÆπÊòìÂèóÁóÖÂÆ≥‰æµÊüìÁöÑÊ§çÁâ©Âô®ÂÆò',
                        required: true,
                        enums: ['leaf', 'stem', 'flower', 'fruit', 'root']
                    }
                ]
            },
            host_disease: {
                title: 'ÂÆø‰∏ª-ÁñæÁóÖÂÖ≥ËÅîÊú¨‰Ωì (Host-Disease Association)',
                file: 'host_disease_schema.json',
                description: 'ÂÆö‰πâÂÆø‰∏ª‰∏éÁñæÁóÖ‰πãÈó¥ÁöÑÂÖ≥ËÅîÂÖ≥Á≥ªÁªìÊûÑ',
                version: '1.0.0',
                lastModified: '2025-11-07',
                fields: [
                    {
                        name: 'association_id',
                        title: 'ÂÖ≥ËÅîID',
                        type: 'string',
                        description: 'ÂÖ≥ËÅîÂÖ≥Á≥ªÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶',
                        required: true
                    },
                    {
                        name: 'host_id',
                        title: 'ÂÆø‰∏ªID',
                        type: 'string',
                        description: 'ÂÖ≥ËÅîÁöÑÊ§çÁâ©ÂÆø‰∏ªIDÔºàÂ§ñÈîÆÔºâ',
                        required: true
                    },
                    {
                        name: 'disease_ids',
                        title: 'ÁñæÁóÖIDÂàóË°®',
                        type: 'array',
                        description: 'ËØ•ÂÆø‰∏ªÂèØËÉΩÊÑüÊüìÁöÑÁñæÁóÖIDÂàóË°®',
                        required: true
                    },
                    {
                        name: 'prevalence',
                        title: 'ÊµÅË°åÂ∫¶',
                        type: 'enum',
                        description: 'ËØ•ÁñæÁóÖÂú®ËØ•ÂÆø‰∏ª‰∏äÁöÑÂ∏∏ËßÅÁ®ãÂ∫¶',
                        required: false,
                        enums: ['common', 'occasional', 'rare']
                    }
                ]
            },
            treatment: {
                title: 'Ê≤ªÁñóÊú¨‰Ωì (Treatment Ontology)',
                file: 'treatment_schema.json',
                description: 'ÂÆö‰πâÁñæÁóÖÊ≤ªÁñóÊñπÊ°àÁöÑÁªìÊûÑÔºàÈ¢ÑÁïôÊé•Âè£Ôºâ',
                version: '0.1.0',
                lastModified: '2025-11-06',
                fields: [
                    {
                        name: 'treatment_id',
                        title: 'Ê≤ªÁñóÊñπÊ°àID',
                        type: 'string',
                        description: 'Ê≤ªÁñóÊñπÊ°àÁöÑÂîØ‰∏ÄÊ†áËØÜÁ¨¶',
                        required: true
                    },
                    {
                        name: 'disease_id',
                        title: 'ÁõÆÊ†áÁñæÁóÖID',
                        type: 'string',
                        description: 'ËØ•ÊñπÊ°àÈíàÂØπÁöÑÁñæÁóÖID',
                        required: true
                    },
                    {
                        name: 'methods',
                        title: 'Ê≤ªÁñóÊñπÊ≥ï',
                        type: 'array',
                        description: 'ÂÖ∑‰ΩìÁöÑÊ≤ªÁñóÊâãÊÆµÂàóË°®',
                        required: true,
                        enums: ['chemical', 'biological', 'cultural', 'physical']
                    }
                ]
            }
        };

        let currentOntology = 'feature';

        function selectOntology(type) {
            currentOntology = type;

            // Êõ¥Êñ∞‰æßËæπÊ†èÈÄâ‰∏≠Áä∂ÊÄÅ
            const items = document.querySelectorAll('.ontology-item');
            items.forEach(item => item.classList.remove('active'));
            event.currentTarget.classList.add('active');

            // Ê∏≤ÊüìÂÜÖÂÆπ
            renderOntologyContent(type);
        }

        function renderOntologyContent(type) {
            const ontology = ontologies[type];
            const contentArea = document.getElementById('contentArea');

            let html = `
                <div class="content-card">
                    <div class="content-header">
                        <div class="content-title">${ontology.title}</div>
                        <div class="readonly-badge">Âè™ËØª</div>
                    </div>

                    <div class="schema-info">
                        <div class="info-row">
                            <div class="info-label">Êñá‰ª∂ÂêçÁß∞Ôºö</div>
                            <div class="info-value">${ontology.file}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">ÊèèËø∞Ôºö</div>
                            <div class="info-value">${ontology.description}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">ÁâàÊú¨Ôºö</div>
                            <div class="info-value">${ontology.version}</div>
                        </div>
                        <div class="info-row">
                            <div class="info-label">ÊúÄÂêé‰øÆÊîπÔºö</div>
                            <div class="info-value">${ontology.lastModified}</div>
                        </div>
                    </div>

                    <div class="field-section">
                        <div class="section-title">Â≠óÊÆµÂÆö‰πâ (${ontology.fields.length} ‰∏™Â≠óÊÆµ)</div>
                        <div class="field-list">
            `;

            ontology.fields.forEach((field, index) => {
                html += `
                    <div class="field-item" id="field_${index}">
                        <div class="field-header" onclick="toggleField(${index})">
                            <div>
                                <span class="field-name">${field.title} (${field.name})</span>
                                ${field.required ? '<span style="color: #ff4d4f; margin-left: 8px;">*</span>' : ''}
                            </div>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <span class="field-type">${field.type}</span>
                                <span class="expand-icon">‚ñº</span>
                            </div>
                        </div>
                        <div class="field-description">${field.description}</div>

                        <div class="field-details">
                            ${field.required !== undefined ? `
                                <div class="property-row">
                                    <div class="property-label">ÂøÖÂ°´Â≠óÊÆµÔºö</div>
                                    <div class="property-value">${field.required ? 'ÊòØ' : 'Âê¶'}</div>
                                </div>
                            ` : ''}

                            ${field.weight !== undefined ? `
                                <div class="property-row">
                                    <div class="property-label">ÂåπÈÖçÊùÉÈáçÔºö</div>
                                    <div class="property-value">${field.weight}%</div>
                                </div>
                            ` : ''}

                            ${field.pattern !== undefined ? `
                                <div class="property-row">
                                    <div class="property-label">Ê†ºÂºèËßÑÂàôÔºö</div>
                                    <div class="property-value"><code>${field.pattern}</code></div>
                                </div>
                            ` : ''}

                            ${field.range !== undefined ? `
                                <div class="property-row">
                                    <div class="property-label">ÂèñÂÄºËåÉÂõ¥Ôºö</div>
                                    <div class="property-value">[${field.range[0]}, ${field.range[1]}]</div>
                                </div>
                            ` : ''}

                            ${field.properties !== undefined ? `
                                <div class="property-row">
                                    <div class="property-label">Â≠êÂ±ûÊÄßÔºö</div>
                                    <div class="property-value">${field.properties.join(', ')}</div>
                                </div>
                            ` : ''}

                            ${field.enums !== undefined ? `
                                <div class="enum-values">
                                    <div class="enum-title">Êûö‰∏æÂÄº (${field.enums.length} ‰∏™)Ôºö</div>
                                    <div class="enum-list">
                                        ${field.enums.map(e => `<span class="enum-tag">${e}</span>`).join('')}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                `;
            });

            html += `
                        </div>
                    </div>
                </div>
            `;

            contentArea.innerHTML = html;
        }

        function toggleField(index) {
            const field = document.getElementById(`field_${index}`);
            field.classList.toggle('expanded');
        }

        function goBack() {
            if (confirm('Á°ÆÂÆöË¶ÅËøîÂõûÈ¶ñÈ°µÂêóÔºü')) {
                alert('ËøîÂõûÈ¶ñÈ°µ');
            }
        }

        // ÂàùÂßãÂåñÂä†ËΩΩ
        renderOntologyContent('feature');
    </script>
</body>
</html>

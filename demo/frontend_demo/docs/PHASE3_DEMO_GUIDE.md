# PhytoOracle Frontend Demo - 阶段3功能快速演示指南

**适用于**: Demo 演示、功能验收、新用户上手

---

## 演示场景1：图片对比功能展示（5分钟）

### 步骤1：生成测试数据（1分钟）

1. 启动应用：
   ```bash
   streamlit run app.py
   ```

2. 访问「推理调试中心」→ Tab 1（单张调试）

3. 快速上传3张图片并推理：
   - `rose_black_spot_001.jpg`
   - `rose_powdery_mildew_001.jpg`
   - `cherry_blossom_001.jpg`

4. 对每张图片进行标注：
   - 第1张：标注为「正确」
   - 第2张：标注为「错误」，实际疾病选择「玫瑰黑斑病」
   - 第3张：标注为「正确」

### 步骤2：使用图片对比功能（3分钟）

1. 点击「Tab 3: 图片对比」

2. **展示历史统计**：
   - 观众可看到：历史记录数=3，已标注=3，准确率=66.7%，误诊案例=1

3. **演示筛选功能**：
   - 说明："我们可以按花卉属、置信度、准确性多维度筛选"
   - 操作：选择「按花卉属筛选」→ 选择 "Rosa"
   - 结果：只显示玫瑰属的2张图片

4. **选择对比图片**：
   - 说明："选择2-4张图片进行详细对比"
   - 操作：选择前2张图片（黑斑病和白粉病）

5. **展示并排对比**：
   - 说明："系统自动并排展示关键特征，并高亮差异"
   - 重点讲解：
     - 绿色高亮：表示与多数值相同
     - 红色高亮：表示与多数不同，需要关注
   - 指出差异：症状类型、中心颜色不同

6. **展示差异分析报告**：
   - 说明："系统自动生成差异分析报告"
   - 滚动到下方，展示：
     - 特征差异统计表格
     - 相同点和差异点列表
     - 针对性优化建议
   - 重点："根据差异类型，系统自动提供优化方向，帮助改进算法"

### 亮点总结
- ✨ 多维度筛选，快速定位目标图片
- ✨ 差异自动高亮，一目了然
- ✨ 智能分析报告，提供可操作建议

---

## 演示场景2：准确率趋势分析（3分钟）

### 步骤1：访问统计分析页面（30秒）

1. 点击侧边栏「统计分析」

2. 如果有批量数据和历史数据，选择「合并所有数据」

3. 观察全局统计卡片：
   - 总诊断量
   - 准确率
   - 已标注数
   - 误诊案例数

### 步骤2：查看准确率趋势（2分钟）

1. 点击「Tab 5: 准确率趋势」

2. **展示趋势图**：
   - 说明："这是过去30天的准确率变化趋势（模拟数据）"
   - 指出："可以看到准确率呈上升趋势，说明算法在不断改进"

3. **演示筛选功能**：
   - 说明："支持按花卉属和疾病类型筛选，深入分析"
   - 操作：选择「按花卉属筛选」→ 选择 "Rosa"
   - 结果：显示玫瑰属的专属趋势图

4. **展示趋势分析摘要**：
   - 当前准确率 + 较7天前变化
   - 30天平均准确率
   - 历史最高准确率
   - 说明："这些指标帮助我们量化算法改进效果"

5. **演示导出功能**：
   - 说明："支持导出趋势数据为CSV或JSON"
   - 点击「导出趋势数据CSV」
   - 说明："可以用于进一步分析或制作报告"

### 步骤3：展示误诊分析（30秒）

1. 点击「Tab 4: 误诊分析」

2. 展示误诊案例列表和高频误诊模式

3. 点击「导出误诊案例CSV」，说明："方便针对性优化"

### 亮点总结
- ✨ 时序趋势可视化，量化改进效果
- ✨ 多维度筛选，深入分析
- ✨ 一键导出，支持二次分析

---

## 演示场景3：完整工作流展示（8分钟）

**适合**: 完整功能演示、用户培训

### 工作流程
```
单张调试 → 批量验证 → 图片对比 → 统计分析 → 数据导出
```

### 详细步骤

**1. 单张调试（2分钟）**
- 上传 1 张图片
- 查看完整推理链路（Q0 → Q1-Q6 → 匹配 → 评分）
- 完成人工标注
- 导出本体使用清单

**2. 批量验证（2分钟）**
- 批量上传 10 张图片
- 执行批量推理
- 查看结果汇总表格
- 完成部分标注

**3. 图片对比（2分钟）**
- 选择 3 张不同疾病的图片
- 并排对比展示
- 查看差异分析报告
- 识别误诊原因

**4. 统计分析（1分钟）**
- 查看混淆矩阵
- 查看准确率趋势
- 筛选特定花属数据

**5. 数据导出（1分钟）**
- 导出误诊案例CSV
- 导出全部诊断数据CSV
- 导出准确率趋势JSON

### 价值说明
- 🎯 **快速验证**：单张调试快速验证算法
- 📊 **批量评估**：批量验证评估整体性能
- 🔍 **深入分析**：图片对比找出误诊原因
- 📈 **持续改进**：统计分析量化改进效果
- 💾 **数据驱动**：导出数据支持决策

---

## 演示技巧

### 讲解重点
1. **功能价值** > 技术实现
2. **用户痛点** → **功能解决方案**
3. **数据驱动** → **算法优化**

### 互动建议
- 询问观众："你们在植物病害诊断中遇到的最大挑战是什么？"
- 展示功能时："这个功能正是为了解决这个问题"
- 演示后："有没有想要深入了解的功能？"

### 时间控制
- 快速演示：5分钟（场景1）
- 标准演示：8-10分钟（场景1+2）
- 完整演示：15-20分钟（场景3+Q&A）

---

## 常见问题解答

### Q1: 图片对比最多支持几张图片？
**A**: 目前支持 2-4 张图片对比。如需对比更多图片，建议分批次对比。

### Q2: 准确率趋势数据是真实的吗？
**A**: 当前为模拟数据用于演示。集成真实后端后，将显示真实的历史趋势数据。

### Q3: 能否同时查看批量数据和历史数据？
**A**: 可以！在统计分析页面选择「合并所有数据」即可。

### Q4: 导出的CSV文件乱码怎么办？
**A**: 我们使用 UTF-8-BOM 编码，Excel 可直接打开。如仍有问题，用记事本另存为 GBK 编码。

### Q5: 如何清空历史记录？
**A**: 当前版本存储在 session state 中，刷新浏览器即可清空。未来版本将添加手动清空按钮。

---

## 演示检查清单

演示前确认：
- [ ] 应用已启动，无报错
- [ ] 准备好测试图片（3-10张）
- [ ] 了解图片文件名规则（包含疾病类型）
- [ ] 熟悉页面布局和导航
- [ ] 准备好演示脚本

演示中注意：
- [ ] 网络连接稳定
- [ ] 屏幕共享清晰
- [ ] 讲解语速适中
- [ ] 与观众互动
- [ ] 记录问题和反馈

演示后跟进：
- [ ] 收集反馈意见
- [ ] 回答未解决问题
- [ ] 发送演示材料
- [ ] 安排下次沟通

---

**祝演示成功！**
